## User 'cedar' has read access to several graphs.DB.DBA.USER_CREATE ('cedar', sprintf('%d',rnd(1e16)));
GRANT SPARQL_SELECT to "cedar";
DB.DBA.RDF_DEFAULT_USER_PERMS_SET ('cedar', 0);

DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/BRT-1889', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/BRT-1899', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/BRT-1909', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/BRT-1920', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/BRT-1930', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/BRT-1947', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1795', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1830', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1840', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1849', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1859', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1869', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1879', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1889', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1899', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1909', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1920', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1930', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1947', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/VT-1971', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/WT-1899', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/WT-1909', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/WT-1919', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/WT-1930', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/WT-1947', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/WT-1956', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/r1/WT-1971', 'cedar', 1);
DB.DBA.RDF_GRAPH_USER_PERMS_SET ('http://lod.cedar-project.nl/resource/codes_belief', 'cedar', 1);


## Endpoint /sparql/cedar uses credentials of user 'cedar'
DB.DBA.VHOST_REMOVE (
	 lhost=>'*ini*',
	 vhost=>'*ini*',
	 lpath=>'/sparql/cedar'
);
DB.DBA.VHOST_DEFINE (
	 lhost=>'*ini*',
	 vhost=>'*ini*',
	 lpath=>'/sparql/cedar',
	 ppath=>'/!sparql/',
	 is_dav=>1,
	 def_page=>'',
	 sec=>'basic',
	 realm=>'cedar',
	 auth_fn=>'DB.DBA.HP_AUTH_SQL_USER_AUTO',
	 vsp_user=>'dba',
	 ses_vars=>0,
	 opts=>vector ('browse_sheet', '', 'noinherit', 'yes', 'cors', '*', 'cors_restricted', 0),
	 is_default_host=>0
);

## Create graph group for the entire dataset

DB.DBA.RDF_GRAPH_GROUP_CREATE('http://lod.cedar-project.nl/resource/r1/cedar-dataset',1);


DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/BRT-1889');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/BRT-1899');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/BRT-1909');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/BRT-1920');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/BRT-1930');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/BRT-1947');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1795');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1830');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1840');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1849');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1859');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1869');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1879');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1889');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1899');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1909');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1920');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1930');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1947');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/VT-1971');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/WT-1899');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/WT-1909');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/WT-1919');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/WT-1930');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/WT-1947');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/WT-1956');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/r1/WT-1971');
DB.DBA.RDF_GRAPH_GROUP_INS('http://lod.cedar-project.nl/resource/r1/cedar-dataset', 'http://lod.cedar-project.nl/resource/codes_belief');
